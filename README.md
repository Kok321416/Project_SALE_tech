# Project SALE Tech — Trading Network API

Веб-приложение на Django, моделирующее иерархическую сеть по продаже электроники. Реализована админ-панель и REST API для управления поставщиками и их клиентами.

## Стек
- Python 3.13
- Django 5.2
- Django REST Framework 3.14
- PostgreSQL 10+ (в разработке можно использовать SQLite)

## Быстрый старт
1. Клонируйте репозиторий и создайте виртуальное окружение.
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Скопируйте пример конфига и заполните реальные значения:
   ```bash
   cp env.example .env
   ```
   Обязательно задайте `DJANGO_SECRET_KEY` и строку подключения к PostgreSQL в `DATABASE_URL`.
4. Примените миграции и создайте суперпользователя:
   ```bash
   python manage.py migrate
   python manage.py createsuperuser
   ```
5. Выполните миграции (включая демо-данные) и создайте суперпользователя:
   ```bash
   python manage.py migrate
   python manage.py createsuperuser
   ```
   После миграций в системе появится демонстрационная цепочка (завод → сеть → предприниматель) и несколько товаров.

6. Запустите сервер разработки:
   ```bash
   python manage.py runserver
   ```

## Админ-панель
- `NetworkNode` отображает поставщика, его уровень в иерархии, контактные данные и задолженность.
- В карточке объекта доступна ссылка на поставщика и Inline для связанных `Product`.
- Реализован фильтр по городу и admin action «Очистить задолженность» для выбранных записей.

## Пользовательский интерфейс
- `/` — главная страница с ключевыми ссылками.
- `/network/` — каталог звеньев сети c тёмной темой, переходами и карточками клиентов.
- `/network/<id>/` — подробная карточка звена с товарами и клиентами.
- `/api/docs/` — стилизованная страница с описанием REST API.

## REST API
Базовый URL: `/api/network-nodes/`

Функциональность:
- CRUD-операции над звеньями сети.
- Поле `debt` доступно при создании, но запрещено для обновления через API.
- Фильтрация по стране: `/api/network-nodes/?country=Germany`.
- Поиск по имени, стране, городу и email; сортировка по имени, стране, городу, дате создания и задолженности.
- Доступ ограничен активным сотрудникам (`is_active=True`, `is_staff=True`).

## Тесты
```bash
python manage.py test
```
Покрывают ключевые сценарии API: создание, запрет изменения задолженности, фильтрацию и права доступа.

## Дополнительно
- Файл `env.example` содержит шаблон переменных окружения.
- Если требуются дополнительные функции, опишите их в issue или PR.



